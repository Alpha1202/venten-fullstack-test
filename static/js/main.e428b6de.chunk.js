(this["webpackJsonpventen-fullstack-test"]=this["webpackJsonpventen-fullstack-test"]||[]).push([[0],{102:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(86),i=a.n(c),l=a(8);a(102);function o(e){var t=e.children,a=e.hero;return n.a.createElement("header",{className:a},t)}function s(e){var t=e.children,a=e.title,r=e.subtitle;return n.a.createElement("div",{className:"banner"},n.a.createElement("h1",null,a),n.a.createElement("div",null),n.a.createElement("p",null,r),t)}o.defaultProps={hero:"defaultHero"};var m=a(19),u=a(20),d=a(23),p=a(21),f=a(24),E=a(40);function h(e){var t=e.title;return n.a.createElement("div",{className:"section-title"},n.a.createElement("h4",null,t),n.a.createElement("div",null))}var g=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={services:[{icon:n.a.createElement(E.c,null),title:"Sweetest Discounts",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Non, ipsa."},{icon:n.a.createElement(E.a,null),title:"Fastest Payment",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Non, ipsa."},{icon:n.a.createElement(E.e,null),title:"Free Delivery",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Non, ipsa."},{icon:n.a.createElement(E.d,null),title:"Smooth Shopping",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Non, ipsa."}]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:"services"},n.a.createElement(h,{title:"services"}),n.a.createElement("div",{className:"services-center"},this.state.services.map((function(e,t){return n.a.createElement("article",{key:t,className:"service"},n.a.createElement("span",null,e.icon),n.a.createElement("h6",null,e.title),n.a.createElement("p",null,e.info))}))))}}]),t}(r.Component),v=a(58),y=a(9),b=a.n(y),N=a(71),x=a.n(N),O="https://venten-api.herokuapp.com/api/v1/",k=function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(x.a.get("".concat(O,"products/").concat(e)).then((function(e){return e.data.data[0]})).catch((function(e){console.log(e.message)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},j=function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(x.a.post("".concat(O,"addproduct"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data.data[0]})).catch((function(e){console.log(e.message)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},w=n.a.createContext(),P=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={products:[],product:{},redirect:!1,sortedProducts:[],loading:!0,type:"all",category:1,price:0,minPrice:0},a.getProduct=function(e){var t;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(k(e));case 2:t=r.sent,a.setState({product:t,loading:!1});case 4:case"end":return r.stop()}}))},a.addProduct=function(e){var t;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.setState({loading:!0}),r.next=3,b.a.awrap(j(e));case 3:t=r.sent,a.setState({product:t,loading:!1,redirect:!0});case 5:case"end":return r.stop()}}))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(x.a.get("".concat(O,"products?currentPage=1&limit=50")).then((function(e){return e.data.data[0].products})).catch((function(e){console.log(e.message)})));case 2:e=t.sent,this.setState({products:e,loading:!1});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return n.a.createElement(w.Provider,{value:Object(v.a)({},this.state,{addProduct:this.addProduct,getProduct:this.getProduct})},this.props.children)}}]),t}(r.Component);w.Consumer;var C=function(e){return n.a.createElement("svg",Object.assign({style:{margin:"auto",background:"#fff"},width:200,height:200,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",display:"block"},e),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(30 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(60 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(90 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(120 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(150 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(180 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(210 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(240 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(270 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(300 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"})),n.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#fe718d",transform:"rotate(330 50 50)"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})))};function T(e){var t=e.product,a=t.id,r=t.name,c=t.price,i=t.imageUrl;return n.a.createElement("article",{className:"product"},n.a.createElement("div",{className:"img-container"},n.a.createElement("img",{src:i,alt:"single product"}),n.a.createElement("div",{className:"price-top"},n.a.createElement("h6",null,"$",c)),n.a.createElement(l.b,{to:"/product/".concat(a),className:"btn-primary product-link"},"Details")),n.a.createElement("p",{className:"product-info"},r))}var S=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context,t=e.loading,a=e.products;return a=a.map((function(e){return n.a.createElement(T,{key:e.id,product:e})})),n.a.createElement("section",{className:"featured-products"},n.a.createElement(h,{title:"Our Products"}),n.a.createElement("div",{className:"featured-products-center"},t?n.a.createElement(C,null):a))}}]),t}(r.Component);function U(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(o,null,n.a.createElement(s,{title:"Venten Shop",subtitle:"High Quality Products at the cheapest rate"})),n.a.createElement(g,null),n.a.createElement(S,null))}S.contextType=w;var F=a(88);function q(){var e=Object(F.a)(["\n min-height: 60vh;\n background: url(",") center/cover no-repeat;\n display: flex;\n align-items: center;\n justify-content: center;\n"]);return q=function(){return e},e}var D=a(89).a.header(q(),(function(e){return e.img})),A=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){(0,this.context.getProduct)(this.props.match.params.id)}},{key:"render",value:function(){var e=this.context,t=e.product;if(e.loading)return n.a.createElement(C,null);if(!t)return n.a.createElement("div",{className:"error"},n.a.createElement("h3",null,"product not found...."),n.a.createElement(l.b,{to:"/",className:"btn-primary"},"back to home"));var a=t.name,r=t.description,c=t.imageUrl,i=t.price,o=t.color;return n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{img:c},n.a.createElement(s,{title:a},n.a.createElement(l.b,{to:"/",className:"btn-primary"},"back to home"))),n.a.createElement("section",{className:"single-product"},n.a.createElement("div",{className:"single-product-images"},n.a.createElement("img",{src:c,alt:a})),n.a.createElement("div",{className:"single-product-info"},n.a.createElement("article",{className:"desc"},n.a.createElement("h3",null,"Description"),n.a.createElement("p",null,r)),n.a.createElement("article",{className:"info"},n.a.createElement("h3",null,"info"),n.a.createElement("h6",null,"price: $",i),n.a.createElement("h6",null,"color: ",o)))))}}]),t}(r.Component);A.contextType=w;var I=a(93),L=a.n(I),M=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={isOpen:!1},a.handleToggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar"},n.a.createElement("div",{className:"nav-center"},n.a.createElement("div",{className:"nav-header"},n.a.createElement(l.b,{to:"/"},n.a.createElement("img",{src:L.a,alt:"venten test"})),n.a.createElement("button",{type:"button",className:"nav-btn",onClick:this.handleToggle},n.a.createElement(E.b,{className:"nav-icon"}))),n.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},n.a.createElement("li",null,n.a.createElement(l.b,{to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(l.b,{to:"/addproduct"},"Add New Product")))))}}]),t}(r.Component);function H(){return n.a.createElement(o,null,n.a.createElement(s,{title:"404",subtitle:"Page not found"},n.a.createElement(l.b,{to:"/",className:"btn-primary"},"return home")))}var B=a(59),V=a(37),z=a(41),J=["image/jpg","image/jpeg","image/png"],R=Object(V.c)({mapPropsToValues:function(){return{name:"",description:"",price:"",imageUrl:"",color:"",category:7}},validationSchema:z.c().shape({name:z.d().required("Provide Product name").min(2),description:z.d().required("Provide Product Description").min(150),price:z.b().required("Provide Product price").positive(),color:z.d().required("Specify Product color variant").min(4),imageUrl:z.a().required("Upload Product Image").test("fileType","Unsupported File Format",(function(e){return J.includes(e[0].type)})).test("fileSize","File too large, must be less than 10MB",(function(e){return e[0].size<=10485760}))}),handleSubmit:function(e,t){(0,t.resetForm)()}})((function(e){var t=e.history,a=e.values,c=e.setValues,i=(e.setSubmitting,e.errors),l=e.touched,o=e.isSubmitting,s=e.handleReset,m=Object(r.useContext)(w),u=m.addProduct,d=m.loading,p=m.redirect,f=m.product;return n.a.createElement("div",{style:{padding:"30px 25%"}},n.a.createElement(h,{title:"Add Product"}),n.a.createElement(V.b,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Name"),l.name&&i.name&&n.a.createElement("p",{style:{color:"red"}},i.name),n.a.createElement(V.a,{type:"text",name:"name",className:l.name&&i.name?"form-control form-error":"form-control",placeholder:"Product name is required"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Price"),l.price&&i.price&&n.a.createElement("p",{style:{color:"red"}},i.price),n.a.createElement(V.a,{name:"price",type:"number",className:l.price&&i.price?"form-control form-error":"form-control",placeholder:"Product price is required"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Color"),l.color&&i.color&&n.a.createElement("p",{style:{color:"red"}},i.color),n.a.createElement(V.a,{name:"color",type:"text",className:l.color&&i.color?"form-control form-error":"form-control",placeholder:"Color variant is required"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Category"),n.a.createElement(V.a,{className:"form-control",component:"select",name:"category"},n.a.createElement("option",{value:1},"Computers"),n.a.createElement("option",{value:2},"Home Utilities"),n.a.createElement("option",{value:3},"Sports"),n.a.createElement("option",{value:4},"Phones and Accessories"),n.a.createElement("option",{value:5},"Electronics"),n.a.createElement("option",{value:6},"Clothing and Fashion"),n.a.createElement("option",{value:7},"Others"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Description"),l.description&&i.description&&n.a.createElement("p",{style:{color:"red"}},i.description),n.a.createElement(V.a,{component:"textarea",name:"description",type:"textarea",className:l.description&&i.description?"form-control textarea form-error":"form-control textarea",placeholder:"Info about this product is required"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Upload Image"),l.imageUrl&&i.imageUrl&&n.a.createElement("p",{style:{color:"red"}},i.imageUrl),n.a.createElement("input",{name:"imageUrl",type:"file",className:l.imageUrl&&i.imageUrl?"form-control form-error":"form-control",onChange:function(e){return c(Object(v.a)({},a,Object(B.a)({},e.currentTarget.name,e.currentTarget.files)))}})),n.a.createElement("div",{style:{margin:"2em"}}),n.a.createElement("input",{onClick:function(){!function(e){var t,a,r,n,c,i,l;b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:t=e.name,a=e.price,r=e.description,n=e.imageUrl,c=e.color,i=e.category,console.log(n),(l=new FormData).set("name",t),l.set("description",r),l.set("price",a),l.set("catId",i),l.set("color",c),l.append("image",n[0]),u(l);case 10:case"end":return o.stop()}}))}(a)},disabled:o,type:"submit",value:d?"Loading...":"Add",className:"btn btn-primary"}),n.a.createElement("input",{onClick:function(){s()},value:"Cancel",className:"btn btn-secondary"})),p&&t.push("/product/".concat(f.id)))})),$=a(36);var Q=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M,null),n.a.createElement($.c,null,n.a.createElement($.a,{exact:!0,path:"/",component:U}),n.a.createElement($.a,{exact:!0,path:"/product/:id",component:A}),n.a.createElement($.a,{exact:!0,path:"/addproduct",component:R}),n.a.createElement($.a,{component:H})))},Y=document.getElementById("root");i.a.render(n.a.createElement(P,null,n.a.createElement(l.a,null,n.a.createElement(Q,null))),Y)},93:function(e,t,a){e.exports=a.p+"static/media/logo.f513ef2c.svg"},98:function(e,t,a){e.exports=a(124)}},[[98,1,2]]]);
//# sourceMappingURL=main.e428b6de.chunk.js.map